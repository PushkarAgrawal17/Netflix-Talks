<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Home | Netflix Talks</title>

    <!-- CSS and Favicon -->
    <link rel="stylesheet" href="4index.css" />
    <link rel="stylesheet" href="4popup.css">
    <link rel="stylesheet" href="search.css">
    <link rel="icon" type="image/png" href="./Images/favicon.png">

    <!-- Other links -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Merriweather:ital,opsz,wght@0,18..144,300..900;1,18..144,300..900&display=swap">
    <!-- Toastify CSS -->
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
</head>

<body>
    <!-- Navbar -->
    <header class="nav-bar">
        <div class="logo">
            <img src="Images/Netflix-Talks-Photoroom.png" alt="Netflix Logo" />
        </div>

        <div class="nav-icons">

            <!----------------------- Search section --------------------------->
            <!-- Search icon -->
            <a title="Search">
                <img id="openSearchBtn" src="Images/search-icon.png">
            </a>

            <!-- Global chat icon -->
            <a href="globalChat.html" title="Global Chat">
                <img id="global-chat-icon" src="Images/global-chat-icon.png">
            </a>

            <!-- Global chat icon -->
            <a href="mylist.html" title="My List">
                <img id="mylist-icon" src="Images/mylist-icon.png">
            </a>

            <!-- Profile icon -->
            <img title="View profile" src="Images/profileIcons/1.jpg" alt="Profile" class="profile-pic"
                id="profileIcon" />
            <!-- Dropdown menu -->
            <div class="profile-dropdown" id="profileDropdown">
                <ul>
                    <li id="accountBtn"><i class="fas fa-user"></i> Account</li>
                    <li id="signOut"><i class="fas fa-sign-out-alt"></i> Sign Out</li>
                </ul>
            </div>
        </div>
    </header>

    <!-- Search popup -->
    <div id="searchPopup" class="popup-overlay hidden">
        <div class="popup-content">
            <button id="backToSearchBtn" class="back-btn hidden" title="Back to Search">
                <i class="fas fa-arrow-left"></i>
            </button>

            <!-- Search Bar + Genre Filter -->
            <section class="search-section">

                <!-- Cross Button -->
                <button id="closePopupBtn" class="close-btn" title="Close">
                    <i class="fas fa-xmark"></i>
                </button>

                <div class="search-container">
                    <button id="voiceBtn" title="Voice Search">
                        <i class="fas fa-microphone"></i>
                    </button>
                    <div id="searchBarContainer">
                        <input type="text" id="searchInput" placeholder="Search for movies..." />
                    </div>
                    <button id="searchBtn"><i class="fas fa-search"></i></button>
                </div>

                <!-- Genre Toggle Button -->
                <h2 id="genreFilterTitle">Search by Genre</h2>
                <button id="genreToggleBtn" title="Search by Genre">
                    <i class="fas fa-film"></i> Genre
                </button>

                <!-- Genre Dropdown -->
                <div class="genre-dropdown">
                    <select id="genreFilter">
                        <option value="">Select Genre</option>
                    </select>
                </div>

            </section>

            <!-- Genre Filtered Results (if selected) -->
            <div id="genreResults" class="section-container hidden">
                <h3>Genre Results:</h3>
                <div class="search-row-posters" id="genreResultsList"></div>
            </div>

            <!-- Search Results -->
            <div id="searchResultsContainer" class="section-container hidden">
                <h3>Search Results:</h3>
                <div class="search-row-posters" id="searchResults"></div>
                <p id="noResultsMessage" class="no-results hidden">No results found.</p>
            </div>

            <!--  Recent Searches -->
            <div id="recentContainer" class="section-container hidden">
                <h3>Recent Searches:</h3>
                <div id="recentSearches" class="recent-searches"></div>
            </div>
        </div>
    </div>

    <!-- Hero Section -->
    <section class="hero-slideshow">
        <div id="hero-slides-container"></div>
        <div class="slider-dots" id="slider-dots-container"></div>
    </section>


    <!-------------------- Movie Rows -------------------->
    <section class="row">
        <h2>Trending Movies</h2>
        <div class="row-posters" id="trending"></div>
    </section>

    <section class="row">
        <h2>Top Rated</h2>
        <div class="row-posters" id="top-rated"></div>
    </section>

    <section class="row">
        <h2>Top Blockbuster Movies</h2>
        <div class="row-posters" id="blockbuster"></div>
    </section>

    <section class="row">
        <h2>Trending Bollywood Movies</h2>
        <div class="row-posters" id="bollywood"></div>
    </section>

    <section class="row">
        <h2>Top Korean TV Shows</h2>
        <div class="row-posters" id="koreanTV"></div>
    </section>

    <section class="row">
        <h2>Top Action Movies</h2>
        <div class="row-posters" id="action"></div>
    </section>

    <section class="row">
        <h2>Top Horror Movies</h2>
        <div class="row-posters" id="horror"></div>
    </section><br>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content-wrapper">
            <br>
            <p>Questions? Call <a href="#">000-800-919-1743</a></p> <br>

            <div class="footer-grid">
                <div class="footer-column">
                    <a href="#">FAQ</a>
                    <a href="#">Investor Relations</a>
                    <a href="#">Privacy</a>
                    <a href="#">Speed Test</a>
                </div>
                <div class="footer-column">
                    <a href="#">Help Centre</a>
                    <a href="#">Jobs</a>
                    <a href="#">Cookie Preferences</a>
                    <a href="#">Legal Notices</a>
                </div>
                <div class="footer-column">
                    <a href="#">Account</a>
                    <a href="#">Ways to Watch</a>
                    <a href="#">Corporate Information</a>
                    <a href="#">Only on Netflix</a>
                </div>
                <div class="footer-column">
                    <a href="#">Media Centre</a>
                    <a href="#">Terms of Use</a>
                    <a href="#">Contact Us</a>
                </div>
            </div>

            <br>
            <p>Netflix Talks</p>
            <p class="recaptcha-msg">
                This page is protected by Google reCAPTCHA to ensure you're not a bot. <a href="#">Learn more.</a>
            </p>
        </div>
    </footer>


    <!------------------------- Scipts ------------------------->
    <!--Navbar fadeout animation on scrolling-->
    <script>
        const header = document.querySelector(".nav-bar");

        window.addEventListener("scroll", () => {
            const scrollY = window.scrollY;

            if (scrollY < 300) {
                // Top: Fully visible
                header.style.opacity = "1";
                header.style.transform = "translateY(0)";
            }
            else if (scrollY < 400) {
                // Scrolling: Slowly fade + move up
                const fade = 1 - (scrollY - 100) / 300;
                header.style.opacity = fade;
                header.style.transform = `translateY(-${(scrollY - 100) / 2}px)`;
            }
            else {
                // Gone completely
                header.style.opacity = "0";
                header.style.transform = "translateY(-100px)";
            }
        });
    </script>

    <!-- Pop up -->
    <script>
        const openBtn = document.getElementById('openSearchBtn');
        const popup = document.getElementById('searchPopup');
        const closeBtn = document.getElementById('closePopupBtn');

        openBtn?.addEventListener('click', () => {
            popup.classList.remove('hidden');
            document.body.classList.add('popup-open'); // Disables background scroll
        });

        closeBtn?.addEventListener('click', () => {
            popup.classList.add('hidden');
            document.body.classList.remove('popup-open');
        });
    </script>

    <!-- Toastify JS -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
    <script type="module" src="4index.js"></script>
    <!-- JS for Search -->
    <script type="module" src="search.js"></script>

</body>

</html>